import{F as p,k as y,o as A,y as i,z as u,A as e,B as g,G as f,r as c,H as m,I as k,J as x,K as I,C as _,L as N,M as R,N as w}from"./DnL1JTk9.js";const E={class:"p-4 bg-gray-800 text-white flex justify-between items-center"},M={__name:"Header",setup(r){const a=p(),t=y(()=>a.getters.sumaContadores);return A(()=>{a.commit("INIT_STATE")}),(o,n)=>(u(),i("header",E,[n[0]||(n[0]=e("h1",{class:"text-xl font-bold"},"📊 Gestion de Contadores Caja las Condes",-1)),e("p",null,"Total: "+g(t.value),1)]))}},T={class:"contador-card"},$={class:"flex gap-2"},L={__name:"Contador",props:{contador:Object},setup(r){const a=p();return(t,o)=>(u(),i("div",T,[e("span",null,g(r.contador.nombre)+" ("+g(r.contador.valor)+")",1),e("div",$,[e("button",{onClick:o[0]||(o[0]=n=>f(a).commit("INCREMENTAR",r.contador.id))},"➕"),e("button",{onClick:o[1]||(o[1]=n=>f(a).commit("DECREMENTAR",r.contador.id))},"➖"),e("button",{onClick:o[2]||(o[2]=n=>f(a).commit("ELIMINAR_CONTADOR",r.contador.id))},"🗑️")])]))}},F={class:"filtros"},O={__name:"Filtros",setup(r){const a=p(),t=c(""),o=c(null),n=c("");function v(){a.commit("APLICAR_FILTRO",{tipo:t.value,valor:o.value,busqueda:n.value})}function b(){a.commit("LIMPIAR_FILTROS"),t.value="",o.value=null,n.value=""}return(C,s)=>(u(),i("div",F,[m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),placeholder:"Buscar...",class:"border p-2"},null,512),[[x,n.value]]),m(e("select",{"onUpdate:modelValue":s[1]||(s[1]=l=>t.value=l),class:"border p-2"},[...s[3]||(s[3]=[e("option",{value:""},"-- Filtro --",-1),e("option",{value:"mayor"},"Mayor que",-1),e("option",{value:"menor"},"Menor que",-1)])],512),[[I,t.value]]),t.value?m((u(),i("input",{key:0,type:"number","onUpdate:modelValue":s[2]||(s[2]=l=>o.value=l),class:"border p-2 w-20"},null,512)),[[x,o.value,void 0,{number:!0}]]):k("",!0),e("button",{onClick:v,class:"bg-blue-500 text-white px-3 py-1"},"Aplicar"),e("button",{onClick:b,class:"bg-gray-500 text-white px-3 py-1"},"Limpiar")]))}},V={class:"p-4"},B={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},h={class:"bg-white p-6 rounded shadow-lg w-80"},j={class:"p-4 grid gap-2"},S={__name:"index",setup(r){const a=p(),t=c(""),o=c(!1),n=y(()=>a.getters.contadoresFiltrados);function v(){t.value=t.value.replace(/[^A-Za-zÁÉÍÓÚáéíóúÑñ\s]/g,"")}function b(){if(!t.value.trim()){alert("El nombre no puede estar vacío");return}if(t.value.length>20){alert("El nombre no puede tener más de 20 caracteres");return}a.commit("AGREGAR_CONTADOR",t.value.trim()),t.value="",o.value=!1}function C(){t.value="",o.value=!1}return(s,l)=>(u(),i("div",null,[_(M),_(O),e("div",V,[e("button",{onClick:l[0]||(l[0]=d=>o.value=!0),class:"boton-agregar"}," ➕ Agregar contador ")]),o.value?(u(),i("div",B,[e("div",h,[l[2]||(l[2]=e("h2",{class:"text-lg font-bold mb-4"},"Nuevo contador",-1)),m(e("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>t.value=d),onInput:v,placeholder:"Nombre del contador...",maxlength:"20",class:"border p-2 w-full mb-3"},null,544),[[x,t.value]]),e("div",{class:"flex justify-end gap-2"},[e("button",{onClick:C,class:"bg-gray-400 text-white px-3 py-1 rounded"}," Cancelar "),e("button",{onClick:b,class:"bg-green-600 text-white px-3 py-1 rounded"}," Confirmar ")])])])):k("",!0),e("div",j,[(u(!0),i(N,null,R(n.value,d=>(u(),w(L,{key:d.id,contador:d},null,8,["contador"]))),128))])]))}};export{S as default};
